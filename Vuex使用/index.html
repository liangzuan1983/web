<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
<script>
//import Vuex from 'vuex'
//import Vue from 'vue'
//import store from './store'
//Vue.use(Vuex);
//new Vue 要导出 ({store,})

//创建Store仓库
export default new Vuex.Store({
    // 状态 
    // 获取的方式
    // 1.利用计算属性return this.$store.state.count;  
    // 2.利用数组下和计算属性,先引入import {mapState} from 'vuex'; computed:{ ...mapState(['值']) }
    state:{
      count:0
    },
    
    // 数据过滤的操作,
    // 获取数据
    // 1.利用计算属性 return this.$store.getters.getState; 
    // 2.先引入import { mapGetters } from 'vuex'; computed:{ ...mapGetters(['方法']) }
    getters:{
      getState(state){
        return state.count > 10 ? 0 : state.count;
      }
    },
    
    // 该变状态 可以传值 ('increment',值)
    // 获取方法
    // 1.事件执行利用$store.commit('increment'); 
    // 2.利用方法 import{ mapMutations }  from 'vuex'; methods:mapMutations(['方法名字，多个用逗号'])
    mutations:{
      increment(state){
        state.count++
      }
    },
    
    // 异步修改状态  actions不是必需品 actions提交的是mutations，可以包含任意异步操作，有网络请求的时候用actions
    // 获取方法
    // 1.利用方法 this.$store.dispatch('increment')
    // 2.利用方法 import{ mapActions }  from 'vuex'; methods:mapActions(['方法名字，多个用逗号'])
    actions:{
      increment(context){
        context.commit('increment');
        setTimeout(()=>{
            alert(1);
        },5000)
        alert('我比setTimeout先执行了');
      }
    }
    
    // module模块组,项目不复杂不要用
    // 
    moduleA:{

    }
})
</script>
</body>
</html>
